---
title: Help needed?
---

<Subtitle>

This page documents known and recurring challenges with Custom Applications and potential solutions to them.

</Subtitle>

<Info>

Something is not working as expected? Do you need general guidance? Do you have a technical question or are you simply looking for some advice?

We strongly encourage and recommend to use [GitHub Discussions](https://github.com/commercetools/merchant-center-application-kit/discussions) as a way of communicating with us (commercetools) and with the community. You can ask questions, share ideas, showcase your work, etc.

Additionally, we also recommend checking for existing [GitHub Issues](https://github.com/commercetools/merchant-center-application-kit/issues) about similar problems you might have or [opening a new one](https://github.com/commercetools/merchant-center-application-kit/issues/new/choose).

</Info>

# Browser support

commercetools officially supports the **latest two versions** of all major browsers (Google Chrome, Mozilla Firefox, Apple Safari, Microsoft Edge), unless otherwise noted.

The following browsers are not supported any longer:

- `IE 11` and below

<Warning>

It is recommended to always keep your browser up-to-date for **security** reasons.

</Warning>


# Configuration changes to the Custom Application are not reflected immediately

The first time a user visits the Custom Application route in the Merchant Center, the proxy router fetches the configuration of the Custom Application to determine where to proxy the request to.

This configuration is cached for a certain time within the proxy router to reduce potential latency introduced by validating each incoming request. The cache is automatically updated at a regular interval (the default value is **30 minutes**).

This implies that changes to the [Custom Application configuration](https://docs.commercetools.com/merchant-center/managing-custom-applications), for example the **Application URL**, are effectively applied according to the cache interval.

<Info>

If you are interested in more advanced functionalities, let us know and open a [support issue](https://github.com/commercetools/merchant-center-application-kit/issues/new/choose).

</Info>

# Using a test or staging environment for my Custom Application

During the development cycle of new features for a Custom Application, it can be helpful to showcase or test those new features before publishing them to the production environment.

This can usually be accomplished using preview deployments, where you can inspect different versions of the Custom Application. As of now, the Merchant Center does not support this feature yet.

The only option to emulate this setup is to create multiple Custom Applications in the Merchant Center, each with a different [`entryPointUriPath`](/api-reference/application-config#entrypointuripath).

However, the Custom Application must be configured to support dynamic values for the `entryPointUriPath` and build different versions of it.

<Info>

Setting up dynamic configurations of Custom Applications (per environment) is further explained in [this section](/api-reference/application-config#environment-variable-references).

</Info>

The same Custom Application can be deployed several times and have its [configuration file](/api-reference/application-config) set to use different `entryPointUriPath` values by taking advantage of environment variables for each deployment.

Let's say there are two deployments of the same application: `A` and `B`. We can assign an environment value for the `entryPointUriPath` property in its configuration.

```json
{
  "entryPointUriPath": "${env:ENTRY_POINT_URI_PATH}"
}
```

The `ENTRY_POINT_URI_PATH` environment variable can be provided in different ways.

For example:
- as an inline environment variable when running a script command.

  ```console
  ENTRY_POINT_URI_PATH=my-application-entry-point mc-scripts start
  ```

- using a [dotenv](https://github.com/motdotla/dotenv) file.

  ```bash title=".env-A"
  ENTRY_POINT_URI_PATH=my-application-entry-point
  ```

  ```console
  mc-scripts --env .env-A start
  ```

- by defining the environment variables in your CI service.

Using this pattern, different `entryPointUriPath` values can be defined for different environments:
* `A` environment: `my-application-entry-point`
* `B` environment: `my-application-entry-point-test`

With this setup, preview versions of the Custom Application can be deployed to the `B` environment and tested using the application `my-application-entry-point-test` entry point path.

However, besides using different `entryPointUriPath` values, the logic of verifying the user permissions in the Custom Application source code must also be adjusted accordingly.

As [explained in this section](/migrating-from-project-level-custom-applications#choose-the-entrypointuripath), the permission names of a Custom Application are derived from the `entryPointUriPath` value. Therefore, when using different `entryPointUriPath` values, the permission names must also be changed.

We recommend using the helper function `entryPointUriPathToPermissionKeys` to compute the permission names from the `entryPointUriPath`.

Find more information on how to apply user permissions in the [Permissions](/development/permissions) documentation.

<Info>

In this scenario the `entryPointUriPath` value cannot be defined statically but it's injected using an environment variable.

Therefore, both server-side and client-side logic must be considered when reading the value from the source code.

```js highlightLines="4-6"
// Make sure to import the helper functions from the `ssr` entry point.
import { entryPointUriPathToPermissionKeys } from '@commercetools-frontend/application-shell/ssr';

export const entryPointUriPath = typeof window === 'undefined'
  ? process.env.ENTRY_POINT_URI_PATH
  : window.app.ENTRY_POINT_URI_PATH;

export const PERMISSIONS = entryPointUriPathToPermissionKeys(entryPointUriPath);
```
</Info>


# Limitations

As we continue developing Custom Applications further introducing more and more developer-friendly features, our solution still has some limitations. Please find below the list of things we don’t support at the moment:

* Changing OAuth Scopes for a Custom Application. The changes to permission scopes are not allowed in the “Ready” state for Custom Applications. At the moment, to apply such changes, a user needs to change the state of a Custom Application to “Draft”, update permissions, and then move it back to the “Ready” state to continue working with the application.
* With a new project created, permissions for already existing Custom Applications are not updated. The current workaround involves reinstalling the application and installing again for all required projects.
* Only View/Manage permissions are available for Custom Applications at the moment. Decoupling from the internal permission scopes was an important part of the migration of Custom Applications to the Organizaiton level. This allows us to continue developing the functionality without the project-level limitations.

Please [reach out to us](https://github.com/commercetools/merchant-center-application-kit/discussions) in case you found any workaround for the aforementioned limitations and constraints. We are always happy to hear your ideas and general feedback about using Custom Applications.


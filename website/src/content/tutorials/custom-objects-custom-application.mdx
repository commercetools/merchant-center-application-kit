---
title: Custom Objects Custom Application
---

<Subtitle>

This tutorial will show you how to create Custom Application to create or update [Custom Objects](https://docs.commercetools.com/api/projects/custom-objects).

</Subtitle>

<Info>

This tutorial assumes you have experience working with [React](https://reactjs.org/) and **Frontend** web development.

</Info>

## Create a Custom Application using starter template
The first step is to create a new Custom Application with the project name `custom-objects-custom-application-project` and using a [starter template](https://github.com/commercetools/merchant-center-application-kit/tree/main/application-templates/starter).
You can initialize a new Custom Application project in your directory using the following command:

```bash
npx @commercetools-frontend/create-mc-app custom-objects-custom-application-project --template starter
```
You will be asked if it's OK to install package `@commercetools-frontend/create-mc-app`, type `y` for YES and press **enter key** to proceed.


After you create an app, youâ€™ll be greeted with some basic information.
![Custom Application Project Starter Template Success Greeting](/images/custom-application-project-starter-template-success-greeting.png)

If you open the project in your code editor, you should see the Custom Application starter template project files similar to below.
![Custom Application Starter Template on VS code editor](/images/custom-application-starter-template-project.png)


## Set up your local project
Open file `custom-application-config.json` on the project's root and update the value `Custom Objects Custom Application` to `name` and `custom-objects` to `entryPointUriPath` properties.
```json
"name": "Custom Objects Custom Application",
"entryPointUriPath": "custom-objects",
```
`cloudIdentifier` is configured to use the HTTP APIs in the Google Cloud (gcp) in Europe(eu) region [`gcp-eu`]. If you plan to run the Custom Application in another environment, change the `cloudIdentifier` accordingly.
You can find a list of supported regions [here](https://docs.commercetools.com/api/general-concepts#hosts).

### JSON validation and autocompletion for VS code (optional)
You can add [Custom Application config JSON Schema settings](https://docs.commercetools.com/custom-applications/development/application-config#json-schema-support-for-vscode) to validate and autocompletion for custom-application-config.json file if you are using the [VS code editor](https://code.visualstudio.com/).

Navigate to `custom-objects-custom-application-project` directory and execute `yarn start` to start the Custom Application.
```bash
cd custom-objects-custom-application-project
```
```bash
yarn start
```
Browser will open new tab with URL `http://localhost:3001`and login screen for development only.
You can login with your commercetools account.
![Custom Application Starter Template on VS code editor](/images/mc-dev-starter-login.png)

If your athentication is successful, then will be redirected to `http://localhost:3001/:projectKey/custom-objects`and `:projectKey`is your commercetools project.

<Info>

If login is not successful, open the URL `http://localhost:3001` in a different Browser.

Or

Clear active session cookie for production domain (for example commercetools.com) and try to open the URL `http://localhost:3001` again.
</Info>

![Custom Objects Custom Application Starter](/images/mc-dev-starter-custom-objects-main.png)


## Display Custom Objects for current commercetools project
Clicking on the `Page one` tab navigates to **view-one** with page URL `http://localhost:3001/:projectKey/custom-objects/one`.
Let's use the **view one** of this project `<project-root>/src/components/view-one/view-one.js` to display a list of `key` and `value` of Custom Objects for the given `container`.
Before querying the commercetools platform for Custom Objects, it's required to pass a specific container. [More details about HTTP API for Query CustomObjects](https://docs.commercetools.com/api/projects/custom-objects#query-customobjects).

## ADD user interface to collect user input for the Custom Objects container
We can use the [FormDialog](/components/form-dialog) component with [TextInput](https://uikit.commercetools.com/?path=/story/components-inputs--textinput) component to accept input `container` from the user.
Show Text message using [Text](https://uikit.commercetools.com/?path=/story/basics-typography-text--headline) and [PrimaryButton](https://uikit.commercetools.com/?path=/story/components-buttons--primarybutton) components to open the form dialog.
Let's call this user interface as the **UpdateContainerForm** component.

Create a new folder called `update-container-form` inside `<project-root>/src/components/view-one` folder. Create empty `index.js`, `update-container-form.js` and `messages.js` files inside `update-container-form` folder.

Add following code to `update-container-form.js`.
```js
import React, { useState } from 'react';
import TextInput from '@commercetools-uikit/text-input';
import PrimaryButton from '@commercetools-uikit/primary-button';
import Spacings from '@commercetools-uikit/spacings';
import Constraints from '@commercetools-uikit/constraints';
import FieldLabel from '@commercetools-uikit/field-label';
import { FormDialog } from '@commercetools-frontend/application-components';

import { useIntl } from 'react-intl';
import messages  from './messages';

const {
    containerInputLabel,
    formTitle,
    addContainerNameButtonLabel,
    updateContainerNameButtonLabel
} = messages;

const UpdateContainerForm = ({ updateContainerCallback }) => {
    const intl = useIntl();

    const [containerValue, setContainerValue] = useState('');
    const [isFormOpen, setIsFormOpen] = useState(false);

    const handleOpenForm = () => setIsFormOpen(true);
    const handleCloseForm = () => setIsFormOpen(false);
    const handleOnChangeContainerName = (event) => setContainerValue(event.target.value);
    const handleUpdateContainer = (event) => {
        event.preventDefault(); // prevent default form submission behavior
        updateContainerCallback(containerValue);
        setIsFormOpen(false);
    };

    return (
        <Constraints.Horizontal max={4}>
            {containerValue ?
            <PrimaryButton
                label={intl.formatMessage(updateContainerNameButtonLabel)}
                onClick={handleOpenForm}
            />:
            <PrimaryButton
                label={intl.formatMessage(addContainerNameButtonLabel)}
                onClick={handleOpenForm}
            />}
            <FormDialog
                title={intl.formatMessage(formTitle)}
                isOpen={isFormOpen}
                onClose={handleCloseForm}
                onSecondaryButtonClick={handleCloseForm}
                onPrimaryButtonClick={handleUpdateContainer}
            >
                <Spacings.Stack scale="m">
                    <FieldLabel
                        title={intl.formatMessage(containerInputLabel)}
                        hasRequiredIndicator={true}
                        htmlFor="updateContainer"
                    />
                    <TextInput
                        id="updateContainer"
                        value={containerValue}
                        onChange={handleOnChangeContainerName}
                        horizontalConstraint={4}
                    />
                </Spacings.Stack>
            </FormDialog>
        </Constraints.Horizontal>
    );
}
export default UpdateContainerForm;
```
Importing UI components, `useIntl` and `messages` for React localization.
State management using [useState](https://reactjs.org/docs/hooks-reference.html#usestate) of [React Hooks](https://reactjs.org/docs/hooks-intro.html).
`updateContainerCallback` callback function to listen updates for the container for `ViewOne` component.


Add following code snippet to `messages.js` for [react-intl](https://formatjs.io/docs/react-intl/) localization.
```js
import { defineMessages } from 'react-intl';

export default defineMessages({
    containerInputLabel: {
        id: 'UpdateContainerForm.containerInputLabel',
        description: 'The page title of view two',
        defaultMessage: 'Container',
    },
    formTitle: {
        id: 'UpdateContainerForm.formTitle',
        description: 'Add or update Custom Object container',
        defaultMessage: 'Add or update Custom Object container',
    },
    addContainerNameButtonLabel: {
        id: 'UpdateContainerForm.addContainerNameButtonLabel',
        description: 'Add container name button label',
        defaultMessage: 'Add container name',
    },
    updateContainerNameButtonLabel: {
        id: 'UpdateContainerForm.updateContainerNameButtonLabel',
        description: 'Update container name button label',
        defaultMessage: 'Update container name',
    }
});
```

Install `@commercetools-uikit/text-input`, `@commercetools-uikit/field-label`, `@commercetools-uikit/primary-button` and `@commercetools-uikit/constraints` UI components packages and save it to your `package.json` dependencies using the following command:
```shell
yarn add @commercetools-uikit/text-input @commercetools-uikit/field-label @commercetools-uikit/primary-button @commercetools-uikit/constraints
```

Add following code snippet to `index.js`.
```js
  export { default } from './update-container-form';
```

Replace `<project-root>/src/components/view-one/view-one.js` code with following code, which imports and renders the `UpdateContainerForm` component.

```js
import React from 'react';
import Text from '@commercetools-uikit/text';
import Spacings from '@commercetools-uikit/spacings';

import UpdateContainerForm from './update-container-form';

import { useIntl } from 'react-intl';
import messages from './messages';
const {
    addContainerMessage,
    selectedContainerMessage
} = messages;

const ViewOne = () => {
    const intl = useIntl();

    const [containerValue, setContainerValue] = React.useState('');
    const handleUpdateContainer = (value) => setContainerValue(value);

    return (
        <Spacings.Stack scale="m">
            {containerValue?
            <Text.Headline as="h3">
                {intl.formatMessage(selectedContainerMessage)} <b>{containerValue}</b>
            </Text.Headline>:
            <Text.Headline as="h3">
                {intl.formatMessage(addContainerMessage)}
            </Text.Headline>}
            <UpdateContainerForm updateContainerCallback={handleUpdateContainer} />
        </Spacings.Stack>
    );
};
ViewOne.displayName = 'ViewOne';

export default ViewOne;
```

One last step to see the first UI change is to update the messages of the `ViewOne` component, replace `<project-root>/src/components/view-one/messages.js` code with the following code.
```js
import { defineMessages } from 'react-intl';

export default defineMessages({
  addContainerMessage: {
    id: 'ViewOne.addContainerMessage',
    description: 'Message to show when no container is chosen',
    defaultMessage: 'Please add container to view Custom Objects',
  },
  selectedContainerMessage: {
    id: 'ViewOne.selectedContainerMessage',
    description: 'Message to show chosen container',
    defaultMessage: 'Current selected container is',
  }
});
```

If it's successful, you should see the following UI on the Custom Application.
![Custom Objects update container form with value](custom-application-custom-objects-with-update-container-form.gif)

## Display Custom Objects key and value in a DataTable
The next step is to display list of `key` and `value` of Custom Objects using the [DataTable](https://uikit.commercetools.com/?path=/story/components-datatable--datatable) UI component.
Create new folder called `custom-objects-key-value-table` inside `<project-root>/src/components/view-one` folder. Create empty `index.js`, `custom-objects-key-value-table.js`, `messages.js` and `get-custom-objects-by-containers.graphql` files inside `custom-objects-key-value-table` folder.

Add the following code to `update-container-form.js` file to display loading, error and data using [LoadingSpinner](https://uikit.commercetools.com/?path=/story/components-loading--loadingspinner), [ErrorMessage](https://uikit.commercetools.com/?path=/story/components-messages--errormessage) and [DataTable](https://uikit.commercetools.com/?path=/story/components-datatable--datatable) UI components.
```js
import React from 'react';
import DataTable from '@commercetools-uikit/data-table';
import LoadingSpinner from '@commercetools-uikit/loading-spinner';
import { ErrorMessage } from '@commercetools-uikit/messages';

import { useQuery } from '@apollo/client';
import { GRAPHQL_TARGETS } from '@commercetools-frontend/constants';
import GetCustomObjectsByContainer from './get-custom-objects-by-containers.graphql';

import { useIntl } from 'react-intl';
import messages from './messages';

const {
    customObjectKeyLabel,
    customObjectValueLabel,
    loadingMessage,
    errorMessage
} = messages;

const target = GRAPHQL_TARGETS.COMMERCETOOLS_PLATFORM;

const CustomObjectsKeyValueTable = ({ container }) => {
    const intl = useIntl();
    const { loading, error, data } = useQuery(GetCustomObjectsByContainer, {
        variables: {
            container,
            target
        },
      });
    const rows =  data ? data.customObjects.results.map(({key, value}) => ({id: key, key, value})) : [];
    const columns = [
        { key: 'key', label: intl.formatMessage(customObjectKeyLabel)},
        { key: 'value', label:intl.formatMessage(customObjectValueLabel)}
    ];

    if (loading) return (<LoadingSpinner size="m">{intl.formatMessage(loadingMessage)}</LoadingSpinner>);
    if (error) return (<ErrorMessage>{intl.formatMessage(errorMessage)}</ErrorMessage>);
    return (<DataTable rows={rows} columns={columns} />);
}
export default CustomObjectsKeyValueTable;
```
Add `@commercetools-uikit/data-table` and UI components to the project by running following command on root of the project.
```shell
yarn add @commercetools-uikit/data-table
```

Add following code snippet to `messages.js` for [react-intl](https://formatjs.io/docs/react-intl/) localization.
Getting Custom Objects for given container is queried using GraphQL query from `get-custom-objects-by-container.graphql` file, [useQuery](https://www.apollographql.com/docs/react/data/queries/) from [@apollo/client](https://www.apollographql.com/docs/) and **target platfrom** from [@commercetools-frontend/constants](https://www.npmjs.com/package/@commercetools-frontend/constants) package.
```js
import { defineMessages } from 'react-intl';

export default defineMessages({
    customObjectKeyLabel: {
        id: 'CustomObjectsKeyValueTable.customObjectKeyLabel',
        description: 'Custom Object key label',
        defaultMessage: 'Key',
    },
    customObjectValueLabel: {
        id: 'CustomObjectsKeyValueTable.customObjectValueLabel',
        description: 'Custom Object value label',
        defaultMessage: 'Value',
    },
    loadingMessage: {
        id: 'CustomObjectsKeyValueTable.loadingMessage',
        description: 'Loading message still waiting for the server response',
        defaultMessage: 'Loading',
    },
    errorMessage: {
        id: 'CustomObjectsKeyValueTable.errorMessage',
        description: 'Something went wrong fetching Custom Object data',
        defaultMessage: 'Something went wrong',
    }
});
```

Add following GraphQL query to `get-custom-objects-by-containers.graphql`.
```graphql
  query GetCustomObjectsByContainer ($container: String!) {
    customObjects(container: $container) {
      results {
        container
        key
        value
      }
    }
  }
```

Add following code snippet to `index.js`.
```js
  export { default } from './custom-objects-key-value-table';
```

Replace `<project-root>/src/components/view-one/view-one.js` code with following code to include `CustomObjectsKeyValueTable` component to display Custom Objects data in the DataTable.

```js
import React from 'react';
import Text from '@commercetools-uikit/text';
import Spacings from '@commercetools-uikit/spacings';

import UpdateContainerForm from './update-container-form';
import CustomObjectsKeyValueTable from './custom-objects-key-value-table';

import { useIntl } from 'react-intl';
import messages from './messages';
const {
    addContainerMessage,
    selectedContainerMessage
} = messages;

const ViewOne = () => {
    const intl = useIntl();

    const [containerValue, setContainerValue] = React.useState('');
    const handleUpdateContainer = (value) => setContainerValue(value);

    return (
        <Spacings.Stack scale="m">
            {containerValue?
            <Text.Headline as="h3">
                {intl.formatMessage(selectedContainerMessage)} <b>{containerValue}</b>
            </Text.Headline>:
            <Text.Headline as="h3">
                {intl.formatMessage(addContainerMessage)}
            </Text.Headline>}
            <UpdateContainerForm updateContainerCallback={handleUpdateContainer} />
            {containerValue && <CustomObjectsKeyValueTable container={containerValue} />}
        </Spacings.Stack>
    );
};
ViewOne.displayName = 'ViewOne';

export default ViewOne;
```
If it's successful, you should see something like below.
![Custom Objects update container form with value](/images/custom-application-custom-objects-display-in-data-table.gif)


### ADD user interface to create or update Custom objects

Create new folder called `create-or-update-custom-objects-form` inside `<project-root>/src/components/view-one` folder. Create empty `index.js`, `create-or-update-custom-objects-form.js`, `messages.js` and `create-or-update-custom-object.graphql` files inside `create-or-update-custom-objects-form` folder.

Add **GraphQL mutation** to create or update Custom Objects in `create-or-update-custom-object.graphql` file.
```graphql
  mutation CreateOrUpdateCustomObject ( $customObjectDraft:  CustomObjectDraft!) {
    createOrUpdateCustomObject (draft: $customObjectDraft) {
      container
      key
      value
    }
  }
```

Add following code snippet to `index.js`.
```js
export { default } from './create-or-update-custom-objects-form';
```

Add following code to `create-or-update-custom-objects-form.js` to get the user input to create or updaye Custom Object using **key** and **value**.
```js
import React from 'react';
import TextInput from '@commercetools-uikit/text-input';
import PrimaryButton from '@commercetools-uikit/primary-button';
import Constraints from '@commercetools-uikit/constraints';
import Spacings from '@commercetools-uikit/spacings';
import FieldLabel from '@commercetools-uikit/field-label';
import { FormDialog } from '@commercetools-frontend/application-components';

import { useMutation } from '@apollo/client';
import CreateOrUpdateCustomObject from './create-or-update-custom-object.graphql';
import { GRAPHQL_TARGETS } from '@commercetools-frontend/constants';

import { useIntl } from 'react-intl';
import messages from './messages';

const {
    keyInputLabel,
    valueInputLabel,
    formTitle,
    openFormButtonLabel
} = messages;

const target = GRAPHQL_TARGETS.COMMERCETOOLS_PLATFORM;

const CreateOrUpdateCustomObjectsForm = ({ container }) => {
    const intl = useIntl();
    const [isFormOpen, setIsFormOpen] = React.useState(false);
    const [key, setKey] = React.useState('');
    const [value, setValue] = React.useState('');

    const [createOrUpdateCustomObject] = useMutation(CreateOrUpdateCustomObject, {
        variables: {
          target,
          "customObjectDraft": {
            key,
            value: `\"${value}\"`,
            container
          }
        }
    });

    const handleOpenForm = () => setIsFormOpen(true);
    const handleCloseForm = () => setIsFormOpen(false);
    const handleCreateOrUpdateCustomObject = () => {
        if (key.length > 0 && value.length > 0) {
            createOrUpdateCustomObject();
        }
        setIsFormOpen(false);
    };

    return (
        <Constraints.Horizontal max={4}>
            <PrimaryButton
                label={intl.formatMessage(openFormButtonLabel)}
                onClick={handleOpenForm}
                isDisabled={!container}
                horizontalConstraint={4}
            />
            <FormDialog
                title={intl.formatMessage(formTitle)}
                isOpen={isFormOpen}
                onClose={handleCloseForm}
                onSecondaryButtonClick={handleCloseForm}
                onPrimaryButtonClick={handleCreateOrUpdateCustomObject}
            >
                <Spacings.Stack scale="m">
                    <FieldLabel
                        title={intl.formatMessage(keyInputLabel)}
                        hasRequiredIndicator={true}
                        htmlFor="createOrUpdateCustomObjectKey"
                        horizontalConstraint={7}
                    />
                    <TextInput id="createOrUpdateCustomObjectKey" value={key} onChange={(event) => {
                        setKey(event.target.value)
                    }} />
                    <FieldLabel
                        title={intl.formatMessage(valueInputLabel)}
                        hasRequiredIndicator={true}
                        htmlFor="createOrUpdateCustomObjectValue"
                        horizontalConstraint={7}
                    />
                    <TextInput id="createOrUpdateCustomObjectValue" value={value} onChange={(event) => {
                        setValue(event.target.value)
                    }} />
                </Spacings.Stack>
            </FormDialog>
        </Constraints.Horizontal>
    );
}
export default CreateOrUpdateCustomObjectsForm;

```
Add following code snippet to `messages.js` for [react-intl](https://formatjs.io/docs/react-intl/) localization.

```js
import { defineMessages } from 'react-intl';

export default defineMessages({
    keyInputLabel: {
        id: 'CreateOrUpdateCustomObjectsForm.keyInputLabel',
        description: 'Create or update Custom objects form key label',
        defaultMessage: 'Key',
    },
    valueInputLabel: {
        id: 'CreateOrUpdateCustomObjectsForm.valueInputLabel',
        description: 'Create or update Custom objects form value label',
        defaultMessage: 'Value',
    },
    openFormButtonLabel: {
        id: 'CreateOrUpdateCustomObjectsForm.openFormButtonLabel',
        description: 'Open Create or Update Custom Object form button label',
        defaultMessage: 'Create or update Custom Object',
    },
    formTitle: {
        id: "CreateOrUpdateCustomObjectsForm.formTitle",
        description: "Create or update Custom objects form title",
        defaultMessage: "Create or update Custom Object"
    }
});
```
Replace the `view-one.js` file code to include `CreateOrUpdateCustomObjectsForm` component.

```js
import React from 'react';
import Text from '@commercetools-uikit/text';
import Spacings from '@commercetools-uikit/spacings';

import UpdateContainerForm from './update-container-form';
import CustomObjectsKeyValueTable from './custom-objects-key-value-table';
import CreateOrUpdateCustomObjectsForm from './create-or-update-custom-objects-form';

import { useIntl } from 'react-intl';
import messages from './messages';
const {
    addContainerMessage,
    selectedContainerMessage
} = messages;

const ViewOne = () => {
    const intl = useIntl();

    const [containerValue, setContainerValue] = React.useState('');
    const handleUpdateContainer = (value) => setContainerValue(value);

    return (
        <Spacings.Stack scale="m">
            {containerValue?
            <Text.Headline as="h3">
                {intl.formatMessage(selectedContainerMessage)} <b>{containerValue}</b>
            </Text.Headline>:
            <Text.Headline as="h3">
                {intl.formatMessage(addContainerMessage)}
            </Text.Headline>}
            <UpdateContainerForm updateContainerCallback={handleUpdateContainer} />
            {containerValue && <CreateOrUpdateCustomObjectsForm container={containerValue} />}
            {containerValue && <CustomObjectsKeyValueTable container={containerValue} />}
        </Spacings.Stack>
    );
};
ViewOne.displayName = 'ViewOne';

export default ViewOne;
```

If it's successful, you should see something like below.
![create or update Custom Object](/images/custom-application-add-or-update-custom-object.gif)

## Next steps
- [Deploy Custom Application](/deployment/compiling-a-custom-application#deployment)
- [Register yout Custom Application](/register-applications/configuring-a-custom-application)
- Implement additional features. What's not covered in this tutorial are Pagination(What if you have a huge list of Custom Objects) and delete a Custom Object. Consider implementing these missing features.


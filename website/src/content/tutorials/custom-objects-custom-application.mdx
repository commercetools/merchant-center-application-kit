---
title: Custom Objects Custom Application
---

<Subtitle>

This tutorial will show you how to create Custom Application to create or update [Custom Objects](https://docs.commercetools.com/api/projects/custom-objects).

</Subtitle>

<Info>

This tutorial assumes you have experience working with [React](https://reactjs.org/) and **Frontend** web development.

</Info>

## Create a Custom Application using starter template
The first step is to create a new Custom Application with project name `custom-objects-custom-application-project` and using [starter template](https://github.com/commercetools/merchant-center-application-kit/tree/main/application-templates/starter).
You can initialize a new Custom Application project in your directory using the following command:

```bash
npx @commercetools-frontend/create-mc-app custom-objects-custom-application-project --template starter
```

After you create an app, youâ€™ll be greeted with some basic information.
![Custom Application Project Starter Template Success Greeting](/images/custom-application-project-starter-template-success-greeting.png)

If you open the project in your code editor you should be able to see the Custom Application starter template project.
![Custom Application Starter Template on VS code editor](/images/custom-application-starter-template-project.png)


## Set up your local project
Open file `custom-application-config.json` from the project's root and update the values of `name` and `entryPointUriPath` properties.
`cloudIdentifier` is configured to use the HTTP APIs in the Google Cloud (gcp) in Europe(eu) region [`gcp-eu`]. If you plan to run the Custom Application in another environment, change the `cloudIdentifier` accordingly.
You can find list of supported regions [here](https://docs.commercetools.com/api/general-concepts#hosts).

```json
"name": "Custom Objects Custom Application",
"entryPointUriPath": "custom-objects",
```

### JSON validation and autocompletion  for VS code (optional step)
If you are using the [VS code editor](https://code.visualstudio.com/), You can add [Custom Application config JSON Schema settings](https://docs.commercetools.com/custom-applications/development/application-config#json-schema-support-for-vscode) to validate and autocompletion for custom-application-config.json file.

Navigate to `custom-objects-custom-application-project` directory and execute `yarn start` to start the Custom Application.
```bash
cd custom-objects-custom-application-project
```
```bash
yarn start
```
Browser will open new tab with URL `http://localhost:3001`and login screen for development only.
You can login with your commercetools account.
![Custom Application Starter Template on VS code editor](/images/mc-dev-starter-login.png)

If your athentication is successful, then will be rediercted to `http://localhost:3001/:projectKey/examples-starter`and `:projectKey`is your commercetools project.

<Info>

If login is not successful, open the URL `http://localhost:3001` in a different Browser.

Or

Clear active session cookie for production domain (e.g. commercetools.com) and try to open the URL `http://localhost:3001` again.
</Info>

![Custom Objects Custom Application Starter](/images/mc-dev-starter-custom-objects-main.png)


## Dispaly Custom Objects of the commercetools project
Let's use the view one of the project `<project-root>/src/components/view-one/view-one.js` to dispaly list of `key` and `value` of Custom Objects for the given `container`.
Before querying commercetools platform for Custom Obejcts, it's required to pass a specific container. [More details about HTTP API for Query CustomObjects](https://docs.commercetools.com/api/projects/custom-objects#query-customobjects).

### ADD UI to collect user input for the Custom Objects container
1. Need simple form with text field and submit button to accept input `container` from the user.
Let's call this container input form component as **UpdateContainerForm** component.

Create new folder called `update-container-form` inside `<project-root>/src/components/view-one` folder. Create empty `index.js`, `update-container-form.js` and `messages.js` files inside `update-container-form` folder.

Add following code snippet to `index.js`.
```js
  export { default } from './update-container-form';
```

Add following code to `update-container-form.js`.
```js
  import React from 'react';
  import TextInput from '@commercetools-uikit/text-input';
  import PrimaryButton from '@commercetools-uikit/primary-button';
  import Spacings from '@commercetools-uikit/spacings';
  import Constraints from '@commercetools-uikit/constraints';
  import FieldLabel from '@commercetools-uikit/field-label';

  import { useIntl } from 'react-intl';
  import messages from './messages';

  const UpdateContainerForm = ({ updateContainerCallback }) => {
      const intl = useIntl();

      const [containerValue, setContainerValue] = React.useState('');

      const handleTextInputChange = (event) => {setContainerValue(event.target.value)};

      const handleUpdateContainer = (event) => {
          event.preventDefault(); // prevent default form submission behavior
          updateContainerCallback(containerValue);
      };

      return (
          <form onSubmit={handleUpdateContainer}>
              <Constraints.Horizontal max={4}>
                  <Spacings.Stack scale="m">
                      <FieldLabel
                          title={intl.formatMessage(messages.containerInputLabel)}
                          hasRequiredIndicator={true}
                          htmlFor="updateContainer"
                          horizontalConstraint={7}
                      />
                      <TextInput
                          name="name"
                          id="updateContainer"
                          onChange={handleTextInputChange}
                          value={containerValue}
                      />
                      <PrimaryButton
                          label={intl.formatMessage(messages.updateContainerNameSubmitButtonLabel)}
                          type="submit"
                          onClick={() => {/* do nothing */}}
                          isDisabled={false}
                          horizontalConstraint={4}
                      />
                  </Spacings.Stack>
              </Constraints.Horizontal>
          </form>
      );
  }
  export default UpdateContainerForm;
```

Add following code snippet to `messages.js` for [react-intl](https://formatjs.io/docs/react-intl/) localization.
```js
  import { defineMessages } from 'react-intl';

  export default defineMessages({
      containerInputLabel: {
          id: 'ViewOne.containerInputLabel',
          description: 'The page title of view two',
          defaultMessage: 'Container input',
      },
      updateContainerNameSubmitButtonLabel: {
          id: 'ViewOne.updateContainerNameSubmitButtonLabel',
          description: 'Update container name form submit button label',
          defaultMessage: 'Update container name',
      }
  });
```

Add `@commercetools-uikit/text-input`, `@commercetools-uikit/field-label`, `@commercetools-uikit/primary-button` and `@commercetools-uikit/constraints` UI components to the project by running following command on root of the project.
```shell
yarn add @commercetools-uikit/text-input @commercetools-uikit/field-label @commercetools-uikit/primary-button @commercetools-uikit/constraints
```

Replace `<project-root>/src/components/view-one/view-one.js`code with following code.

```js
  import React from 'react';
  import Text from '@commercetools-uikit/text';
  import UpdateContainerForm from './update-container-form';
  import Spacings from '@commercetools-uikit/spacings';

  const ViewOne = () => {
      const [containerValue, setContainerValue] = React.useState('');
      const handleUpdateContainer = (value) => setContainerValue(value);

      return (
          <Spacings.Stack scale="m">
              {containerValue && <Text.Headline as="h3">Current selected container is {containerValue}</Text.Headline>}
              <UpdateContainerForm updateContainerCallback={handleUpdateContainer} />
          </Spacings.Stack>
      );
  };
  ViewOne.displayName = 'ViewOne';

  export default ViewOne;
```
It renders the `UpdateContainerForm` component and shows the container name when user submits the container.

If it's successful, you should see UI on the Custom Application.
![Custom Objects update container form without value](/images/custom-application-custom-obejcts-update-container-form-with-value.png)

After user entered the container.
![Custom Objects update container form with value](/images/custom-application-custom-obejcts-update-container-form-without-value.png)


2. Display list of `key` and `value` of Custom Objects using DataTable UI component
Create new folder called `custom-objects-key-value-table` inside `<project-root>/src/components/view-one` folder. Create empty `index.js`, `custom-objects-key-value-table.js`, `messages.js` and `get-custom-objects-by-containers.graphql` files inside `custom-objects-key-value-table` folder.

Add following code snippet to `index.js`.
```js
  export { default } from './custom-objects-key-value-table';
```

Add following code to `update-container-form.js`.
```js
import React from 'react';
import DataTable from '@commercetools-uikit/data-table';
import LoadingSpinner from '@commercetools-uikit/loading-spinner';
import { ErrorMessage } from '@commercetools-uikit/messages';

import { useQuery } from '@apollo/client';
import GetCustomObjectsByContainer from './get-custom-objects-by-containers.graphql';
import { GRAPHQL_TARGETS } from '@commercetools-frontend/constants';

import { useIntl } from 'react-intl';
import messages from './messages';

const target = GRAPHQL_TARGETS.COMMERCETOOLS_PLATFORM;

const CustomObjectsKeyValueTable = ({ container }) => {
    const intl = useIntl();
    const { loading, error, data } = useQuery(GetCustomObjectsByContainer, {
        variables: {
            container,
            target
        },
      });

    const rows =  data ? data.customObjects.results.map(({key, value}) => ({id: key, key, value})) : [];
    const columns = [
        { key: 'key', label: intl.formatMessage(messages.customObjectKeyLabel)},
        { key: 'value', label:intl.formatMessage(messages.customObjectValueLabel)}
    ];

    if (loading) return (<LoadingSpinner size="m">Loading</LoadingSpinner>);
    if (error) return (<ErrorMessage>{intl.formatMessage(messages.errorMessage)}</ErrorMessage>);
    return (<DataTable rows={rows} columns={columns} />);
}
export default CustomObjectsKeyValueTable;
```

Add following code snippet to `messages.js` for [react-intl](https://formatjs.io/docs/react-intl/) localization.
```js
  import { defineMessages } from 'react-intl';

  export default defineMessages({
      customObjectKeyLabel: {
          id: 'CustomObjectsKeyValueTable.customObjectKeyLabel',
          description: 'Custom Object key label',
          defaultMessage: 'Key',
      },
      customObjectValueLabel: {
          id: 'CustomObjectsKeyValueTable.customObjectValueLabel',
          description: 'Custom Object value label',
          defaultMessage: 'Value',
      },
      errorMessage: {
          id: 'CustomObjectsKeyValueTable.ErrorMessage',
          description: 'Something went wrong fetching Custom Object data',
          defaultMessage: 'Something went wrong',
      }
  });
```

Add following GraphQL query to `get-custom-objects-by-containers.graphql`.
```graphql
  query GetCustomObjectsByContainer ($container: String!) {
    customObjects(container: $container) {
      results {
        container
        key
        value
      }
    }
  }
```

Add `@commercetools-uikit/data-table`, `@commercetools-uikit/loading-spinner` and `@commercetools-uikit/messages` UI components, `@apollo/client` and `@commercetools-frontend/constants` to the project by running following command on root of the project.
```shell
yarn add @commercetools-uikit/data-table @commercetools-uikit/loading-spinner @commercetools-uikit/messages @apollo/client @commercetools-frontend/constants.
```
Getting Custom Objects for given container is queried using `get-custom-objects-by-containers.graphql` query, `useQuery` from `@apollo/client` and target platfrom from `@commercetools-frontend/constants`.



Replace `<project-root>/src/components/view-one/view-one.js` code with following code to include `CustomObjectsKeyValueTable` component to display Custom Objects data in the table.

```js
  import React from 'react';
  import Text from '@commercetools-uikit/text';
  import UpdateContainerForm from './update-container-form';
  import CustomObjectsKeyValueTable from './custom-objects-key-value-table';
  import Spacings from '@commercetools-uikit/spacings';

  const ViewOne = () => {
      const [containerValue, setContainerValue] = React.useState('');
      const handleUpdateContainer = (value) => setContainerValue(value);

      return (
          <Spacings.Stack scale="m">
              {containerValue && <Text.Headline as="h3">Current selected container is {containerValue}</Text.Headline>}
              <UpdateContainerForm updateContainerCallback={handleUpdateContainer} />
              {containerValue && <CustomObjectsKeyValueTable container={containerValue} />}
          </Spacings.Stack>
      );
  };
  ViewOne.displayName = 'ViewOne';

  export default ViewOne;
```

3. Display list of `key` and `value` of Custom Objects using DataTable UI component.
### ADD commercetools Custom Objects graphQL query.
###


## Custom Application Permission

## Next steps
What's not covered in this tutorial is Pagination, delete Custom Application.

---
title: Merchant Center API
---

Custom Applications need to fetch data from different APIs in the commercetools platform. For example to fetch channel information, or to update products data, and so on.

Accessing these API requires some sort of authentication mechanism. For security reasons, client-side applications **cannot be trusted** with sensitive credentials, which makes it difficult to connect to an API directly from the browser.

To solve these issues, the Merchant Center provides an HTTP API that handles authentication and authorization to all commercetools platform APIs. You can think about it as an **API Gateway**.

Therefore, Custom Applications use the Merchant Center API to make requests to one of the commercetools platform APIs. The way you select the API in your requests depends on the [API Gateway Endpoints](#api-gateway-endpoints).

![Merchant Center API](/images/merchant-center-api.png 'Merchant Center API')

# Cloud regions

The commercetools platform is available in [multiple cloud regions](https://docs.commercetools.com/api/general-concepts#regions).
These regions are completely isolated from each other and no data is transferred between them.

<Info>

Platform accounts created for one region are not valid for the other regions. A [signup](https://docs.commercetools.com/tutorials/getting-started) is required for each region individually.
In case you need advice in which region your project should be located, please contact [commercetools support](https://support.commercetools.com).

</Info>

## Hostnames

The Merchant Center and the Merchant Center API Gateway are available at the same cloud regions where the commercetools platform runs.

All hostnames are subdomains of `commercetools.com` and follow a specific naming format, including the cloud provider, the cloud region, and the Merchant Center service name.

```
https://{mcService}.{region}.{cloudProvider}.commercetools.com
```

- `mcService`: for the Merchant Center front-end the value is `mc`, for the Merchant Center API Gateway the value is `mc-api`.
- `region`: the region of the cloud provider, see table below.
- `cloudProvider`: the cloud provider (`gcp`, `aws`, etc.).

| Cloud region | Merchant Center API Gateway hostname |
| --- | --- |
| Australia (Google Cloud, Sydney)<br />`gcp-au` | `mc-api.australia-southeast1.gcp.commercetools.com` |
| Europe (Google Cloud, Belgium)<br />`gcp-eu` | `mc-api.europe-west1.gcp.commercetools.com` |
| Europe (AWS, Frankfurt)<br />`aws-fra` | `mc-api.eu-central-1.aws.commercetools.com` |
| North America (Google Cloud, Iowa)<br />`gcp-us` | `mc-api.us-central1.gcp.commercetools.com` |
| North America (AWS, Ohio)<br />`aws-ohio` | `mc-api.us-east-2.aws.commercetools.com` |

# Authentication

The Merchant Center API is protected by a **session token** via the HTTP `Cookie` header, which is set only for `<cloud-region>.commercetools.com` domains.

In the browser, the session token is stored in a **secure cookie** named `mcAccessToken`.

```
Cookie: mcAccessToken=<jwt>
```

<Info>

Custom Applications are configured to instruct the browser to send the secure cookie, using the `credentials: "include"` option of the fetch library.

</Info>

## Obtaining a session token

The session token `mcAccessToken` is granted upon user login and is stored in a **secure cookie** in the browser.

The Merchant Center API provides 2 endpoints for authenticating a user:

- `/tokens`: For normal login using `email` and `password`.
- `/tokens/sso`: For login using an `idToken` from an SSO workflow (see [Single-Sign-On](https://docs.commercetools.com/merchant-center/single-sign-on-beta)).

<Info>

When you develop a Custom Application all authentication logic is handled implicitly and you don't need to worry about it.

</Info>

# API Gateway Endpoints

The Merchant Center API primarily acts as an API Gateway with the following responsibilities:

* Verifying the user session.
* Routing the request to the correct route handler, specific to the targeted API.
* Making sure that requests to the targeted APIs are properly authenticated and authorized ([OAuth Scopes and User Permissions](/concepts/oauth-scopes-and-user-permissions)).

As for the API endpoints available to be used to target the correct API, they are grouped in two categories:

* `/graphql`: For GraphQL requests.
* `/proxy/*`: For REST requests.

## /graphql

The Merchant Center API exposes a single `/graphql` endpoint.

```
https://mc-api.<cloud-region>.commercetools.com/graphql
```

However, there are multiple target GraphQL APIs that Custom Applications can use. To instruct the API Gateway to target the correct API, you need to provide a special HTTP header: `X-Graphql-Target`.

The following targets are available:

* `ctp`: Proxies requests to the [commercetools platform GraphQL API](https://docs.commercetools.com/api/graphql).
* `change-history`: Proxies requests to the [commercetools platform History API](https://docs.commercetools.com/api/history/change-history).
* `mc`: Proxies requests to the Merchant Center GraphQL API.

Normally you would only need to use the official [commercetools platform GraphQL API](https://docs.commercetools.com/api/graphql) as other APIs are mostly for internal usage and not documented.

To learn more how to use the target values, check out the [Data Fetching documentation](/development/data-fetching) for developing Custom Applications.

## /proxy/:target/*

The Merchant Center API exposes multiple proxy endpoints to target a specific REST API.

```
https://mc-api.<cloud-region>.commercetools.com/proxy/*
```

The following proxy endpoints are available:

* `/proxy/ctp/*`: Proxies requests to the [commercetools platform HTTP API](https://docs.commercetools.com/api).
* `/proxy/ml/*`: Proxies requests to the [Machine Learning API](https://docs.commercetools.com/api/ml).
* `/proxy/import/*`: Proxies requests to the [Import Export API](https://docs.commercetools.com/import-export).
* `/proxy/forward-to`: See [Integrate with your own API](/concepts/integrate-with-your-own-api).

The way the proxy endpoints work is that they act as "prefixes" to the actual endpoint path of the targeted API. For example:

```js highlightLines="6,7"
// To use the Orders API, you would send a request to:
https://api.europe-west1.gcp.commercetools.com
  /:projectKey/orders

// The same results would be achieved using the API Gateway like:
https://mc-api.europe-west1.gcp.commercetools.com
  /proxy/ctp
  /:projectKey/orders
```

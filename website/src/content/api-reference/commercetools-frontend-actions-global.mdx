---
title: "@/actions-global"
---

<Subtitle>

Global Redux actions and hooks for handling user notifications.

</Subtitle>

# Installation

```
yarn add @commercetools-frontend/actions-global

# or

npm --save install @commercetools-frontend/actions-global
```

Additionally install the peer dependencies (if not present)

```
yarn add react redux react-redux

# or

npm --save install react redux react-redux
```

# Notification system

Custom Applications come with a built-in notification system built on top of [Redux](https://redux.js.org).

The `@commercetools-frontend/actions-global` package provides Redux action creators and React hooks to facilitate dispatching notifications within Custom Applications.

# Action creators

<Info>

Rather than using the action creators directly we recommend using the corresponding React hooks. The hooks have the `dispatch` method of the Redux store bound internally. 

</Info>

## showNotification

An action creator to dispatch any kind of notification.<br />
Takes 2 arguments: `notification` object (required) and `meta` object (optional).

- `notification` object properties

| Property            | Type       | Required | Values                                                                                | Default | Description                                        |
| ------------------- | ---------- | :------: | ------------------------------------------------------------------------------------- | ------- | -------------------------------------------------- |
| `kind`              | `string`   |    ✅    | `success`, `error`, `warning`, `info`, `unexpected-error`, `api-error`                | -       | The kind of the notification.                      |
| `domain`            | `string`   |    ✅    | `side`, `global`, `page`                                                              | -       | The domain of the notification.                    |
| `text`              | `string`   |    -     | -                                                                                     | -       | The text content of the notification.              |


- `meta` object properties

| Property            | Type       | Required | Values         | Default                                           | Description                                                                            |
| ------------------- | ---------- | :------: | -------------- | ------------------------------------------------- | -------------------------------------------------------------------------------------- |
| `dismissAfter`      | `number`   |     -    | -              | `5000` (only for the `sucess` notification)       | Delay (in milliseconds) between the appearing and the closing of the notification.     |
| `onDismiss`         | `function` |     -    | -              | -                                                 | Called when the notification closes. Receives notification `id` as an argument.        |


## showApiErrorNotification

An action creator to dispatch an (page) error notification for [API errors](https://docs.commercetools.com/api/errors) of the commercetools platform API.

## handleActionError

An action creator that attempts to handle a generic error and dispatch the appropriate (page) notification error if possible. Use this if you simply need to ensure a notification error is shown without knowing what the exact error is.

## hideAllPageNotifications

An action creator to hide all active page notifications.

# Hooks

## useShowNotification

A React hook to dispatch [`showNotification`](#shownotification) action.

```js
import {
  useShowNotification
} from '@commercetools-frontend/actions-global';
import {
  NOTIFICATION_DOMAINS,
  NOTIFICATION_KINDS_SIDE,
} from '@commercetools-frontend/constants';

const showSuccessNotification = useShowNotification();
showSuccessNotification({
  domain: NOTIFICATION_DOMAINS.SIDE,
  kind: NOTIFICATION_KINDS_SIDE.success,
  text: "All good!",
});
```

## useShowApiErrorNotification

A React hook to dispatch [`showApiErrorNotification`](#showapierrornotification) action.

```js
import {
  useShowApiErrorNotification
} from '@commercetools-frontend/actions-global';

const errors = [
  {
    message:
      "A duplicate value '\"Test channel\"' exists for field 'key'.",
    code: "DuplicateField",
  },
];
const showApiErrorNotification = useShowApiErrorNotification();
showApiErrorNotification({ errors });
```
 ## useOnActionError
 
A React hook to dispatch [`handleActionError`](#handleactionerror) action. 

```js
import { useOnActionError } from '@commercetools-frontend/actions-global';

const error = {
  statusCode: 400,
  body: {
    message: "This is an error",
    errors: [
      {
        message:
          "This is an error",
        code: "Invalid",
      },
    ],
  },
}
const onActionError = useOnActionError();
onActionError(error)
```

## useHideAllPageNotifications

A React hook to dispatch [`hideAllPageNotifications`](#hideallpagenotifications) action.

```js
import { 
  useHideAllPageNotifications
} from '@commercetools-frontend/actions-global';

const hideAllPageNotifications = useHideAllPageNotifications();
hideAllPageNotifications()
```


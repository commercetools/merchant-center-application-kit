---
title: Notifications
---

In the previous section, we learned how to develop forms. In this section, we'll look at how to provide feedback to users using notifications, especially in response to user actions.

To facilitate the use of notifications, Custom Applications have a built-in notification system.

# Notification system

Notifications are an important means of providing feedback in response to user actions.
For example, the submission of a form may succeed or fail. The user should be informed about this in an understandable and easy-to-find way.

Notifications are grouped by so-called `domains`. A domain specifies where the notification should be displayed on the page (for instance `page` and `side`).

Various types of notifications are available: `success`, `error`, `warning`, `info`. Depending on the use case you choose the appropriate type. For example, if a form was submitted successfully, you would display a side notification of the type `success`.

Triggering notifications is done using some custom React hooks. Please refer to the [`@commercetools-frontend/actions-global`](/api-reference/commercetools-frontend-actions-global) package for implementation details.

<Info>

For defining the `domain` and the `kind` of a notification, we recommend using the values exposed from [`@commercetools-frontend/constants`](/api-reference/commercetools-frontend-constants).

For example:

<MultiCodeExample>
  <CodeExample path="development/notifications/domain-and-kind.jsx" />
  <CodeExample path="development/notifications/domain-and-kind.tsx" />
</MultiCodeExample>

</Info>

<Warning>

Be mindful of Custom Application users convenience when dispatching notifications. Excessive and confusing notifications may lead to poor user experience.

</Warning>

## Page notifications

Page notifications are displayed on top of the content page. By default, they must be closed manually.

<Info>

Generally `error` notifications should be displayed in the `page` domain rather than the `side` domain.

For defining the `kind` of page notification, we recommend using the `NOTIFICATION_KINDS_PAGE` constant exposed from `@commercetools-frontend/constants`.
The available values defined by the constant are `error`, `warning`, `info`, `success`, `unexpected-error` and `api-error`.

</Info>

![Page notifications](/images/notifications-api-error.png)

## Side notifications

Side notifications are smaller than page notifications and they slide in from the right side of the page.
Success notifications in the `side` domain by default disappear after 5 seconds.

<Info>

We recommend displaying `success` notifications in the `side` domain.

For defining the `kind` of side notification we recommend using `NOTIFICATION_KINDS_SIDE` constant exposed from `@commercetools-frontend/constants`.
The available values defined by the constant are `error`, `warning`, `info` and `success`.

</Info>

![Side notifications](/images/notifications-side.png)

# Using notifications in a form

Let's implement notifications in the details page of the `Channels` application.

## Form submitted successfully

<MultiCodeExample title="channels-details">
  <CodeExample path="development/notifications/submitted-successfully.jsx" highlightLines={[6,7,20,26,27,28,29,30]}/>
  <CodeExample path="development/notifications/submitted-successfully.tsx" highlightLines={[6,7,31,37,38,39,40,41]}/>
</MultiCodeExample>

## Form submitted with errors

In most cases, displaying error notifications is the result of handling API errors. For example, submitting a form is rejected by the API. In this section, we will look at some examples of API error handling for GraphQL and REST API requests.

### GraphQL

<Info>

Find more information about GraphQL errors in the [Apollo Client docs](https://www.apollographql.com/docs/react/data/error-handling/).

</Info>

The basic implementation of dispatching error notifications in the `Channels` application might look like this:

<MultiCodeExample title="channels-details">
  <CodeExample path="development/notifications/submitted-with-errors.jsx" highlightLines={[3,9,16,17,18,19,20,22]}/>
  <CodeExample path="development/notifications/submitted-with-errors.tsx" highlightLines={[3,12,19,20,21,22,23,24,25]}/>
</MultiCodeExample>

Following our recommendations, not all GraphQL errors should lead to dispatching an error notification.
For example, instead of displaying an error notification, we can try to map specific errors to their related form fields.

<Info>

In the following code snippet, we take advantage of the fact that a Channel's `key` value [must be unique](https://docs.commercetools.com/api/projects/channels#channel).
A request to update the Channel's `key` to a duplicated value results in an error with the `DuplicateField` error code.

Find more information about API errors on the [API errors page](https://docs.commercetools.com/api/errors).

</Info>

For this purpose, we recommend creating an error transforming function:

<MultiCodeExample title="transform-errors">
  <CodeExample path="development/notifications/transform-errors.jsx" />
  <CodeExample path="development/notifications/transform-errors.tsx" />
</MultiCodeExample>

In the form `onSubmit` handler we can then transform the errors, render them in the form (if needed) and dispatch an error notification.

<MultiCodeExample title="channels-details">
  <CodeExample path="development/notifications/render-transformed-errors.jsx" highlightLines={[2,7,12,13,14,15,16,17,18]}/>
  <CodeExample path="development/notifications/render-transformed-errors.tsx" highlightLines={[2,10,15,16,17,18,19,20,21]}/>
</MultiCodeExample>

Now `DuplicateField` errors related to the `key` field will be transformed to form validation errors and all other errors to API error notifications.

### REST

For HTTP requests sent to REST API we may follow the same pattern as we used for [GraphQL](#graphql):

<MultiCodeExample title="channels-details-rest">
  <CodeExample path="development/notifications/rest-api.jsx" highlightLines={[4,5,6,7,8,12,13,28,29,30,31,32,35]}/>
  <CodeExample path="development/notifications/rest-api.tsx" highlightLines={[4,5,6,7,8,16,17,32,33,34,35,36,39]}/>
</MultiCodeExample>

# Usage with React class components

If for some reason a notification must be dispatched from a React class component, we cannot use React hooks exposed from the `@commercetools-frontend/actions-global` package.
Instead, we should use a Redux action directly.

At a bare minimum, dispatching notifications could look like this:

<MultiCodeExample title="channel-updater">
  <CodeExample path="development/notifications/react-class-component.jsx" highlightLines={[2,3,4,5,6,17,18,19,20,212,2,23,29,30,32,33,43]}/>
  <CodeExample path="development/notifications/react-class-component.tsx" highlightLines={[2,3,4,5,6,37,38,39,40,41,42,41,42,43,49,50,51,52,53,63]}/>
</MultiCodeExample>

# Testing

We recommend using the test render function [`renderAppWithRedux`](https://docs.commercetools.com/custom-applications/api-reference/commercetools-frontend-application-shell#renderappwithredux) when testing notifications, as they rely on Redux.
